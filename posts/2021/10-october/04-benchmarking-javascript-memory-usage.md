---
title: Влияние потребления памяти на производительность
description: Тим Кадлек попробовал сформировать критерии оптимального потребления памяти страницы
date: 2021-10-04
url: https://blog.webpagetest.org/posts/benchmarking-javascript-memory-usage/
tags:
  - js
  - performance
layout: layouts/post.njk
---
Тим Кадлек попробовал сформировать критерии оптимального потребления памяти страницы — "Benchmarking JavaScript Memory Usage".

В Chrome 83 появилась возможность измерения потребляемой памяти страницы с помощью метода `performance.measureMemory`. В январе 2021 года он был переименован в `performance.measureUserAgentSpecificMemory`. Несмотря на то что API существует уже довольно долго, разработчики ещё не полностью понимают, как его использовать для анализа производительности страницы. Основная проблема — недостаток данных, чтобы понимать какой объём потребляемой памяти считать приемлемым, а какой избыточным.

Тим пытается ответить на этот вопрос с помощью сбора метрик с 10000 популярных сайтов и распределения результатов по перцентилям. В итоге он предложил следующее распределение:
— хорошо: <4.8MB
— нуждается в улучшении: >4.8MB и <19.4MB
— плохо: >19.4MB

Также в статье есть исследование влияния используемых JS-фреймворков на объём потребляемой памяти. Больше всего памяти потребляют React и Angular. Это объясняется бо́льшим количеством доставляемого кода по сравнению с Vue и jQuery.

https://blog.webpagetest.org/posts/benchmarking-javascript-memory-usage/

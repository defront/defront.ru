---
title: Адаптация Relay для большой кодовой базы
description: На прошедшем React Conf 2021 был представлен новый компилятор Relay для оптимизации GraphQL-запросов
date: 2021-12-09
url: https://relay.dev/blog/2021/12/08/introducing-the-new-relay-compiler/
tags:
  - react 
  - graphql 
  - rust
layout: layouts/post.njk
---
На прошедшем React Conf 2021 был представлен новый компилятор Relay для оптимизации GraphQL-запросов — "Introducing the new Relay compiler".

Relay — это фреймворк для работы с GraphQL в React-приложениях. При использовании Relay компоненты декларативно описывают необходимые им данные с помощью GraphQL-фрагментов. Компилятор Relay на этапе сборки приложения обходит компоненты и подготавливает оптимизированный GraphQL-запрос на базе этих фрагментов.

Скорость компилятора с ростом кодовой базы Facebook постепенно ухудшалась, поэтому его переписали c JavaScript на Rust. Скорость работы компилятора улучшилась в пять-семь раз. Кроме улучшения производительности новый компилятор подготовил платформу для дальнейшего развития Relay. Например, благодаря ему в Relay появилась поддержка новой директивы `@required` для упрощения работы с данными. Также этот компилятор лежит в основе расширения для VSCode для поддержки автодополнения имён полей в GraphQL-фрагментах. Расширение на данный момент недоступно для внешних пользователей, так как над ним ещё ведётся работа.

https://relay.dev/blog/2021/12/08/introducing-the-new-relay-compiler/

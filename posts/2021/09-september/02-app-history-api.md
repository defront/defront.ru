---
title: App History API — улучшенный роутинг для SPA
description: Cэм Торогуд рассказал про новое экспериментальное API для упрощения реализации клиентского роутинга в SPA
date: 2021-09-02
url: https://web.dev/app-history-api/
tags:
  - spa
  - api
  - experimental
layout: layouts/post.njk
---
Cэм Торогуд рассказал про новое экспериментальное API для упрощения реализации клиентского роутинга в SPA — "Modern client-side routing: the App History API".

Для управления роутингом в SPA используется History API. History API отвечает за историю браузера, всё остальное (обработка событий навигации, управление переходами между экранами, сохранение временного состояния) ложится на плечи разработчика.  App History API устраняет эти недостатки, связывая историю браузера, событие навигации и переходы между экранами.

Работа с App History API происходит с помощью объекта `appHistory`. Для обработки событий навигации нужно установить обработчик на событие `navigate`. Обработчик будет перехватывать все события навигации, в том числе при отправке POST-запросов и при программном изменении истории. В API есть встроенные средства для управления процессом перехода на новые экраны SPA с возможностью установки обработчиков на успешный переход  или переход с ошибкой.

На данный момент App History API доступен только в бете Chrome 95 за экспериментальным флагом.

https://web.dev/app-history-api/

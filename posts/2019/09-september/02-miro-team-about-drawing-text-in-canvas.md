---
title: Как мы учились рисовать тексты на Canvas
description: Разработчики Miro рассказывает про опыт работы с текстом в canvas
date: 2019-09-02
url: https://habr.com/ru/company/miro/blog/458624/
tags:
  - rendering
  - canvas
layout: layouts/post.njk
---
Прочитал статью, в которой ребята из Miro поделились опытом работы с текстом в canvas — "Как мы учились рисовать тексты на Canvas".

Во время переезда Miro с Flash на JavaScript + Canvas появилась проблема при работе с текстами. Надо было бесшовно отображать текст и мини-редактор. Первое решение использовало `foreignObject` из svg. С его помощью можно "положить" любой html внутрь svg в качестве изображения. От этого решения пришлось отказаться, когда появилось новое требование — необходимо было добавить поддержку разных шрифтов. Как пишет автор, была проблема с тем, что происходила загрузка шрифтов для каждой внедряемой картинки. В итоге им пришлось реализовать свою библиотеку для отрисовки текста на canvas. На небольших объёмах текста библиотека работает быстрее решения с `foreignObject`. Похоже, что библиотека не open source, так как никаких ссылок на код не нашёл.

В статье очень много технических подробностей. Читать стоит, если делаете что-то подобное у себя в проекте или если просто интересно.

https://habr.com/ru/company/miro/blog/458624/

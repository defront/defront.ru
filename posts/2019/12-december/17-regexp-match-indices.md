---
title: RegExp Match Indices
description: Новая фича JavaScript, добавляющая в match object позиции каждой сматченной группы
date: 2019-12-17
url: https://v8.dev/features/regexp-match-indices
tags:
  - js
  - regexp
  - proposal
  - v8
layout: layouts/post.njk
---
Сегодня увидел в твиттере новость — в V8 v7.9 появилась реализация пропозала "RegExp Match Indices" (пока спрятана за экспериментальным флагом). Майа Лекова из команды разработки движка написала статью с объяснением, где он может быть полезен.

Методы `Regexp#exec()`, `String#match()` и `String#matchAll()` ищут заданный шаблон в строке и в случае успеха возвращают "match object". В нём находится индекс первого символа строки, который совпал с шаблоном. Этой информации недостаточно, если в выражении есть скобочные группы (capturing group) и если мы хотим получить позицию каждой сматченной группы. Именно эту проблему решает "Match Indicies" — он расширяет возвращаемый match object новым свойством `indicies`, в котором находятся позиции всех найденных групп. В статье есть пример того, как это свойство может быть использовано для понятного отображения ошибок парсинга кода.

На данный момент "RegExp Match Indices" находится на третьем этапе добавления в стандарт. Вполне возможно, что он попадёт в грядущий стандарт ECMAScript 2020 (ох... красивая цифра).

https://v8.dev/features/regexp-match-indices

---
title: Исправление "прыгающего" контента с помощью aspect ratio
description: Крейг Баклер рассказывает как исправить проблему сдвига контента при загрузки страницы
date: 2019-12-01
url: https://blog.logrocket.com/jank-free-page-loading-with-media-aspect-ratios/
tags:
  - css
  - specification
  - ui
layout: layouts/post.njk
---
Скорее всего мы все сталкивались с эффектом "прыгающей страницы", когда при чтении статьи на экране смартфона текст прыгает из-за загружающихся изображений. Как этого избежать, Крейг Баклер рассказал в статье "Jank-free page loading with media aspect ratios".

Страница сдвигается из-за того, что в макетах с отзывчивым дизайном мы не можем задать жёсткие размеры у изображений, чтобы браузер зарезервировал для них место, так как размер может быть любым. Но браузер может рассчитать размер изображения, зная пропорции изображения и его ширину или высоту. В будущих версиях Chrome и Firefox появится поддержка определения пропорций на основе атрибутов `width` и `height`. Также разрабатывается спецификация для нового CSS-свойства `aspect-ratio`. Но пока поддержка пропорций не появится во всех браузерах, можно использовать трюк с пропорциональным отступом (если для `padding` использовать проценты, то отступ будет высчитываться на базе ширины элемента).

Концептуально проблема с "прыгающей страницей" решена в спецификации Scroll Anchoring. Проблема в том, что на данный момент эта спека не поддерживается Safari и, соответственно, всеми браузерами на iOS.

Статья на удивление очень подробная для такой специфичной темы. Очень рекомендую почитать.

https://blog.logrocket.com/jank-free-page-loading-with-media-aspect-ratios/

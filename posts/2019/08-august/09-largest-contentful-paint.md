---
title: Зачем нужна метрика Largest Contentful Paint
description: Фил Волтон из Google про новое API, с помощью которого можно получить наиболее точное время появления основного содержимого сайта
date: 2019-08-09
url: https://web.dev/largest-contentful-paint
tags:
  - web
  - performance
  - rendering
  - chrome
layout: layouts/post.njk
---
Вчера на сайте web.dev Фил Волтон из Google опубликовал статью, посвящённую Largest Contentful Paint, — новому API, с помощью которого можно получить наиболее точное время появления основного содержимого сайта.

Необходимость в новом API возникла из-за того, что существующее событие `DOMContentLoaded` не всегда соответствует появлению содержимому, которое можно считать полезным. `First Paint` и `First Contentful Paint` тоже не очень хорошие кандидаты для получения времени, так как они отражают начало рендеринга. Метрики `First Meaningful Paint` и `Speed Index`, которые рекомендовались ранее, часто некорректно говорят про время отображения основного контента.

В результате дискуссий рабочей группы W3C и исследований, проведённых командой Google, было обнаружено, что наиболее аккуратный способ определения времени отображения основного содержимого страницы, это отслеживание времени рендеринга самого большого элемента.

Для определения этого события предназначено API `Largest Contentful Paint (LCP)`. Так как при загрузке страницы контент может меняться, браузер отправляет PerformanceEntry c типом `largest-contentful-paint` при каждом появлении нового большого элемента. Отправка метрики прекращается, после того как пользователь начинает взаимодействовать со страницей. Время самого последнего отправленного события является нужным значением.

Largest Contentful Paint доступен в Chrome 77. В этой версии также стал доступен Element Timing API, на базе которого построен LCP. С помощью него можно узнать время появления конкретных элементов на странице.

https://web.dev/largest-contentful-paint

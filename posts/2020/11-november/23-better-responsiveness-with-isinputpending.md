---
title: Сохранение отзывчивости страницы с помощью isInputPending
description: Нейт Шлосс и Эндрю Комминос рассказали про новое API для эффективной обработки событий пользователя
date: 2020-11-23
url: https://web.dev/isinputpending/
tags:
  - performance
  - js
layout: layouts/post.njk
---
Нейт Шлосс и Эндрю Комминос рассказали про новое API для эффективной обработки событий пользователя — "Better JS scheduling with isInputPending()".

Для того чтобы страница оставалась отзывчивой при выполнении тяжёлых задач, их разбивают на большое количество мелких подзадач, обработка которых происходит с помощью `setTimeout`. Благодаря такому подходу браузер сохраняет отзывчивость. Проблема в том, что такое переключение для выполнения подзадач небесплатно, и если этот паттерн используется для начальной инициализации приложения, то общее время инициализации будет больше времени инициализации без этого паттерна.

Новое API `isInputPending`, которое было предложено и реализовано в Chromium инженерами Facebook, позволяет разрешить эту дилемму. С помощью `isInputPending` можно проверить, есть ли в текущей очереди задач пользовательские события, которые требует немедленной обработки. Таким образом можно планировать новые итерации выполнения подзадач точечно, ускоряя общее время выполенения кода.

`isInputPending` был добавлен в Chrome 87. Разработчики других браузеров на данный момент не заинтересованы в его добавлении.

https://web.dev/isinputpending/

---
title: Новинки Safari 13.1
description: В блоге WebKit вышла статья про новинки Safari 13.1 - поддержка мыши и тачпада на iPadOS, Web Animations API, enterkeyhint, CSS Shadow Parts и другое
date: 2020-04-03
url: https://webkit.org/blog/10247/new-webkit-features-in-safari-13-1/
tags:
  - safari
  - announcement
layout: layouts/post.njk
---
В блоге WebKit вышла статья про новинки Safari 13.1, релиз которого запланирован на весну, — "New WebKit Features in Safari 13.1".

На iPadOS появится полноценная поддержка мыши и тачпада. Чтобы контент был доступен для всех пользователей вне зависимости от устройства ввода, он не должен зависеть от тач-событий. Вместо них рекомендуется использовать Pointer Events.

Было добавлено много новых API. С помощью Web Animations API станет доступно программное управление параметрами анимаций и переходов: остановка и повторное воспроизведение анимации, изменение направления, скорости, продолжительности и т.п. Будет доступен Async Clipboard API, который предоставляет доступ к системному буферу обмена, сохраняя отзывчивость страницы. API доступен только в безопасном контексте внутри обработчиков жестов пользователя, например, `pointerup`. Реализована поддержка ResizeObserver для более гибкого управления дизайном компонентов в зависимости от размеров контейнера, а не вьюпорта. В WebRTC добавлена поддержка работы через прокси-сервисы и Dual-Tone Multi-Frequency (DTMF) для поддержки большего количества аудио-сервисов.

Элементы управления форм будут поддерживать новый атрибут `enterkeyhint`, с помощью которого можно изменить текст кнопки enter виртуальной клавиатуры на done, go, next, previous, search и send.

В CSS появится поддержка Shadow Parts для стилизации web-компонентов по месту использования. Добавлен `line-break: anywhere` для мягких переносов внутри текста. Было добавлено новое медиа-выражение `dynamic-range` для адаптации контента под специфические возможности экрана, например, HDR.

В JavaScript движке появится поддержка оператора nullish coalescing ( `??` ) и нового метода String — `String.prototype.replaceAll()`.

В инструментах разработчика панели Debugger и Resource объединены в единую панель Sources для более удобной отладки кода. Пояится новая вкладка Layers  3D-визаулизацией отрендеренных слоёв для упрощения поиска проблем производительности. На уровне инструментов разработчика можно адаптировать любой скрипт под свои нужды с помощью Local Overrides. Теперь также как и в Chrome Dev Tools любой скрипт может быть проигнорирован во время отладки с помощью Script Blackboxing.

Соединения с ресурсами по протоколам TLS 1.0 и TLS 1.1 будут помечаться как "Not Secure". Информация из `document.referrers` будет доступна только оригинальному домену. Любые данные web-сайтов (Indexed DB, LocalStorage, Media keys, SessionStorage, Service Worker registrations) старше семи дней будут очищаться, если пользователь не посетит сайт в течении этого периода. Последний пункт — очень спорное решение, которое вызвало негодование среди разработчиков.

https://webkit.org/blog/10247/new-webkit-features-in-safari-13-1/

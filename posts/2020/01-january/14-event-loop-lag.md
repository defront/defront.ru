---
title: Лаги event loop, и что можно с ними сделать
description: Дэвид Хеттелр рассказывает, как мониторить лаги event loop и что можно с ними сделать
date: 2020-01-14
url: https://davidhettler.net/blog/event-loop-lag/
tags:
  - nodejs
  - performance
layout: layouts/post.njk
---
Дэвид Хеттелр в статье "Monitoring Node.js: Watch Your Event Loop Lag!" рассказывает, как мониторить лаги event loop и что можно с ними сделать.

Node.js работает в одном потоке, поэтому надо следить за тем, чтобы поток не забивался долгими задачами. Если возникла проблема, то можно воспользоваться профилировщиком для локализации проблемы. Но лучше всего подключить мониторинг event loop, который будет на постоянной основе отслеживать лаг и уведомлять в случае проблем. Для этого нужно использовать `monitorEventLoopDelay` из Performance Timing API. Для уменьшения лага можно поискать альтернативные решения (если проблема в библиотеке), использовать worker_threads или вынести ресурсоёмкий код в C++ модуль.

Рекомендую почитать статью, если работаете с Node.js и столкнулись с проблемой долгого ответа приложения.

https://davidhettler.net/blog/event-loop-lag/

---
title: Релиз npm CLI v7
description: Новинки релиза — автоматическая установка peerDependencies, добавление workspaces, добавление поддержки yarn.lock
date: 2020-10-13
url: https://github.blog/2020-10-13-presenting-v7-0-0-of-the-npm-cli/
tags:
  - npm
  - release
  - nodejs
layout: layouts/post.njk
---
Сегодня вышла седьмая версия npm. Майлз Боринс рассказал про новые фичи релиза — "Presenting v7.0.0 of the npm CLI ".

В npm v7 была добавлена поддержка воркспейсов (workspaces). С их помощью добавляется возможность удобного управления вложенными пакетами из корневого пакета.

В новой версии `peerDependencies` будут устанавливаться автоматически. В npm v6 установщику не предоставлялась информация о `peerDependencies`, поэтому их надо было устанавливать самостоятельно.

В package-lock используется новый формат, который гарантирует создание воспроизводимых сборок. Также была добавлена поддержка yarn.lock для получения информации о метаданных и разрешения зависимостей.

Ломающие изменения: автоматическая установка peerDependencies; теперь нельзя зареквайрить внутренние модули npm; `npx` был переписан, в новой версии он работает поверх `npm exec`, что повлекло за собой разные изменения; изменился вывод команды `npm audit`.

Седьмая версия будет поставляться с Node.js v15 (выходит на следующей неделе) или её можно установить самостоятельно ( `npm i -g npm@7` ).

https://github.blog/2020-10-13-presenting-v7-0-0-of-the-npm-cli/

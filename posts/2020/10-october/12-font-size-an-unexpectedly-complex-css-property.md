---
title: Сложности имплементации CSS-свойства font-size
description: Маниш Горегаокар — разработчик Servo — написал статью про сложности имплементации свойства font-size
date: 2020-10-12
url: https://manishearth.github.io/blog/2017/08/10/font-size-an-unexpectedly-complex-css-property/
tags:
  - css
  - internals
  - firefox
  - specification
layout: layouts/post.njk
---
Маниш Горегаокар — разработчик Servo — написал статью про сложности имплементации свойства `font-size` — "Font-size: An Unexpectedly Complex CSS Property".

Маниш разрабатывал Stylo — CSS-движок, написанный на Rust, который стал частью Firefox. Одной из его задач было добавление поддержки свойства `font-size`.

Проблема в том, что на размер шрифта влияют очень много факторов. Размер может быть задан разными юнитами и ключевыми словами. На него влияет выбранное семейство шрифтов, например,  `font-size: medium` в рубленных шрифтах это 16 пикселей, а в моноширинных шрифтах — 13 пикселей. Также Firefox (из коробки) и Chrome (с помощью расширения) позволяют задавать размер шрифта в зависимости от текущего языка текста. Есть свои нюансы для задания размеров шрифта в MathML и при его использовании c аннотациями ruby.

Интересно, что в некоторых случаях разработчики не следуют полностью спецификации, а делают good enough приближение, потому что точно реализовать фичу по спеке бывает очень сложно.

В общем, хорошая статья. Рекомендую почитать всем, кто интересуется внутренней работой браузеров.

https://manishearth.github.io/blog/2017/08/10/font-size-an-unexpectedly-complex-css-property/
